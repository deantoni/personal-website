import { format } from "date-fns";

export const PostTeaser = ({ post, ...props }) => (
  <Article {...props}>
    <Grid col="1|1|350px 1fr|400px 1fr" gap="4|4|10" alignItems="flex-start">
      {post.image && (
        <Link href={post.link} d="block" overflow="hidden">
          <Image
            src={post.image}
            title={post.title}
            alt={post.title}
            ml="null|null|-25%"
          />
        </Link>
      )}
      <Flexbox
        flexDirection="column"
        alignItems="flex-start"
        alignSelf="stretch"
      >
        {post.title && (
          <H2 mt="0" mb="4" fontSize="2xl|2xl|3xl|4xl">
            <Link href={post.link}>{post.title}</Link>
          </H2>
        )}
        {post.subtitle && <P mt="1">{post.subtitle}</P>}
        <Flexbox flex="1" alignItems="flex-end" pb="2">
          {post.date && (
            <Time dateTime={new Date(post.date)}>
              {format(new Date(post.date), "MM/dd/yyyy")}
            </Time>
          )}
          {post.timeToRead && <Span ml="2"> - {post.timeToRead} min read</Span>}
        </Flexbox>
      </Flexbox>
    </Grid>
  </Article>
);
